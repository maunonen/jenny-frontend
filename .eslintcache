[{"/Users/maunonen/Documents/project/jenny/frontend/src/index.js":"1","/Users/maunonen/Documents/project/jenny/frontend/src/reportWebVitals.js":"2","/Users/maunonen/Documents/project/jenny/frontend/src/store.js":"3","/Users/maunonen/Documents/project/jenny/frontend/src/reducers/filter.js":"4","/Users/maunonen/Documents/project/jenny/frontend/src/reducers/price.js":"5","/Users/maunonen/Documents/project/jenny/frontend/src/router/AppRouter.js":"6","/Users/maunonen/Documents/project/jenny/frontend/src/components/HomePage.js":"7","/Users/maunonen/Documents/project/jenny/frontend/src/components/NavBar.js":"8","/Users/maunonen/Documents/project/jenny/frontend/src/services/APIServices.js":"9","/Users/maunonen/Documents/project/jenny/frontend/src/services/user.js":"10","/Users/maunonen/Documents/project/jenny/frontend/src/components/RegistrationForm.js":"11","/Users/maunonen/Documents/project/jenny/frontend/src/reducers/userReducer.js":"12","/Users/maunonen/Documents/project/jenny/frontend/src/action/userAction.js":"13","/Users/maunonen/Documents/project/jenny/frontend/src/components/LoginForm.js":"14","/Users/maunonen/Documents/project/jenny/frontend/src/components/ProfileForm.js":"15","/Users/maunonen/Documents/project/jenny/frontend/src/components/ShowPriceList.js":"16","/Users/maunonen/Documents/project/jenny/frontend/src/components/AddPrice.js":"17"},{"size":909,"mtime":1608295622785,"results":"18","hashOfConfig":"19"},{"size":362,"mtime":1607684114427,"results":"20","hashOfConfig":"19"},{"size":865,"mtime":1608290201510,"results":"21","hashOfConfig":"19"},{"size":296,"mtime":1607972473228,"results":"22","hashOfConfig":"19"},{"size":236,"mtime":1607972697851,"results":"23","hashOfConfig":"19"},{"size":1218,"mtime":1608291053096,"results":"24","hashOfConfig":"19"},{"size":128,"mtime":1607978171974,"results":"25","hashOfConfig":"19"},{"size":621,"mtime":1608288576873,"results":"26","hashOfConfig":"19"},{"size":168,"mtime":1608042654477,"results":"27","hashOfConfig":"19"},{"size":1206,"mtime":1608144556420,"results":"28","hashOfConfig":"19"},{"size":1925,"mtime":1608287686047,"results":"29","hashOfConfig":"19"},{"size":1805,"mtime":1608287807667,"results":"30","hashOfConfig":"19"},{"size":3508,"mtime":1608293112126,"results":"31","hashOfConfig":"19"},{"size":1259,"mtime":1608288037581,"results":"32","hashOfConfig":"19"},{"size":3721,"mtime":1608288020898,"results":"33","hashOfConfig":"19"},{"size":144,"mtime":1608288750114,"results":"34","hashOfConfig":"19"},{"size":128,"mtime":1608288722368,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"1appcr7",{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"40"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"40"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"40"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"40"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"40"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"40"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"40"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"/Users/maunonen/Documents/project/jenny/frontend/src/index.js",["78","79"],"/Users/maunonen/Documents/project/jenny/frontend/src/reportWebVitals.js",[],["80","81"],"/Users/maunonen/Documents/project/jenny/frontend/src/store.js",[],"/Users/maunonen/Documents/project/jenny/frontend/src/reducers/filter.js",[],"/Users/maunonen/Documents/project/jenny/frontend/src/reducers/price.js",[],"/Users/maunonen/Documents/project/jenny/frontend/src/router/AppRouter.js",["82","83"],"import React, { useEffect} from 'react'\nimport {\n  BrowserRouter as Router, \n  Switch, \n  Route, \n  /* Link, \n  Redirect, \n  useHistory, \n  useRouteMatch */\n} from 'react-router-dom'\nimport LoginForm from '../components/LoginForm'\nimport HomePage from '../components/HomePage' \nimport NavBar from '../components/NavBar'\nimport RegistrationForm from '../components/RegistrationForm'\nimport ProfileForm from '../components/ProfileForm'\nimport AddPrice from '../components/AddPrice'\nimport ShowPriceList from '../components/ShowPriceList'\nimport { useSelector} from 'react-redux' \n\n\nconst AppRouter = (props) => {\n\n  const  isLogged = useSelector(state => state.user.isLogged)\n  \n  return (\n    <div>\n      <NavBar/>\n      <Switch>\n          <Route path=\"/\" exact={true} component={HomePage}/>\n          <Route path=\"/login\" component={LoginForm}/>\n          { isLogged && <Route path=\"/profile\" component={ProfileForm}/>}\n          { isLogged && <Route path=\"/add_price\" component={AddPrice}/>}\n          { isLogged && <Route path=\"/show_price_list\" component={ShowPriceList}/>} \n\n          {!isLogged && <Route path=\"/register\" component={RegistrationForm}/>}\n      </Switch>\n    </div>\n  )\n\n}\nexport default AppRouter;","/Users/maunonen/Documents/project/jenny/frontend/src/components/HomePage.js",[],"/Users/maunonen/Documents/project/jenny/frontend/src/components/NavBar.js",[],"/Users/maunonen/Documents/project/jenny/frontend/src/services/APIServices.js",["84","85","86","87"],"import axios from 'axios'\nconst baseUrl = '/api/login'\nlet token = null\n\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\n\n\n\nexport default { setToken }","/Users/maunonen/Documents/project/jenny/frontend/src/services/user.js",["88"],"import axios from 'axios'\nconst baseUrl = '/api/users'\nlet token = null\n\nconst setToken = (newToken) => {\n  token = `bearer ${newToken}`\n}\n\nconst login = async credentials => {\n  console.log(\"LOGIN SERVICE\")\n  const loginUrl = '/api/login'\n  const responce = await axios.post(loginUrl, credentials)\n  return responce\n}\n\nconst register = async user => {\n  const responce = await axios.post(baseUrl, user)\n  return responce\n}\n\nconst updateUser = async (user, newToken) => {\n  token = `bearer ${newToken}`\n  const config = {\n    headers: { Authorization: token }\n  }\n  const responce = await axios.put(baseUrl, user, config)\n  return responce \n}\n\nconst deleteUser = async user => {\n  /* const responce = await axios.delete(baseUrl, user) */\n  /* return responce */\n}\n\nconst getUserProfile = async (newToken) => {\n  token = `bearer ${newToken}`\n  const config = {\n    headers: { Authorization: token }\n  }\n  const responce = await axios.get(`${baseUrl}/profile`, config)\n  return responce\n}\n\nconst getAllUsers = async user => {\n  /* const responce = await axios.delete(baseUrl, user) */\n  /* return responce */\n}\n\nexport default { login, register, updateUser, deleteUser, getUserProfile, getAllUsers, setToken}","/Users/maunonen/Documents/project/jenny/frontend/src/components/RegistrationForm.js",["89","90"],"import React, {useState, useEffect} from 'react'\nimport appService from '../services/APIServices'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { register } from '../action/userAction'\n\n\nconst RegistrationForm = (props) => {\n\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [name, setName] = useState('')\n  const [email, setEmail] = useState('')\n\n  const dispatch = useDispatch()\n  const { error} = useSelector(state => state.user)\n  \n  const handleRegistration = async (event) => {\n    event.preventDefault()\n      dispatch(register({ username, password}))\n      setUsername('')\n      setPassword('')\n      setEmail('')\n      setName('')\n  }\n\n\n  \n  return (\n    <div>\n    <h1>Registration Form</h1>\n        { error && <h1> { error } </h1> }\n        <form onSubmit={handleRegistration}>\n          <label htmlFor=\"username\">Username:</label>\n          <input \n            type=\"text\" \n            value={username} \n            name=\"username\" \n            onChange={({target})=> setUsername(target.value)}\n          />\n          <br/>\n          <label htmlFor=\"password\">Password:</label>\n          <input \n            type=\"text\" \n            value={password} \n            name=\"password\"\n            onChange={({target}) => setPassword(target.value)}\n          />\n          <br/>\n          <label htmlFor=\"name\">Name:</label>\n          <input \n            type=\"text\" \n            value={name} \n            name=\"namr\"\n            onChange={({target}) => setName(target.value)}\n          />\n          <br/>\n          <label htmlFor=\"email\">Email:</label>\n          <input \n            type=\"text\" \n            value={email} \n            name=\"email\"\n            onChange={({target}) => setEmail(target.value)}\n          />\n          <br/>\n          <button type=\"submit\">Register</button>\n        </form>\n    </div>\n  )\n}\n\nexport default RegistrationForm","/Users/maunonen/Documents/project/jenny/frontend/src/reducers/userReducer.js",["91"],"import { \n  REGISTER_FAILED, \n  REGISTER_SUCCESS, \n  LOGIN_SUCCESS , \n  LOGIN_FAILED , \n  /* LOGIN_LOADING  ,  */\n  LOGOUT_SUCCESS , \n } from \"../action/userAction\";\n\n function getInitialState() {\n    if (sessionStorage.getItem(\"isLogged\")){\n      let tempIsLogged = false \n      let tempToken = \"\" \n      if (sessionStorage.getItem(\"isLogged\") === true && sessionStorage.getItem(\"token\") === true ) {\n        tempIsLogged = true\n        tempToken = sessionStorage.getItem(\"token\")\n      }      \n      let error = \"\"\n      if (sessionStorage.getItem(\"login_error\")){\n        error = sessionStorage.getItem(\"login_error\")\n      }\n      return {\n        isLogged : tempIsLogged, \n        token : tempToken, \n        error\n      }\n    } else {\n      return {\n        isLogged: false,\n        token : \"\",\n        error : \"\"\n      }\n    }\n }\n\n let initialState = getInitialState()\n\nconst saveToStorage = (isLogged, error, token=\"\") => {\n  sessionStorage.setItem(\"isLogged\", isLogged)\n  sessionStorage.setItem(\"login_error\", error)\n  sessionStorage.setItem(\"token\", token)\n}\n\nconst loginReducer = ( state = initialState, action) => {\n  console.log(\"Login Reducer - action\" + action.type)\n  switch (action.type){\n    case LOGIN_SUCCESS: \n      saveToStorage(\"true\", \"\", action.token)\n      return {\n        ...state, \n        token : action.token, \n        isLogged : true, \n        error : \"\", \n      }\n\n    case LOGIN_FAILED:\n      saveToStorage(state.isLogged, action.error, \"\")\n      return {\n        ...state, \n        error : action.error\n      }\n    case REGISTER_SUCCESS:\n        return {\n          ...state\n        }\n      \n    case REGISTER_FAILED: \n        return {\n          ...state,\n          error : action.error\n        }\n\n    default : \n      return state;   \n\n  }\n}\n\nexport default loginReducer","/Users/maunonen/Documents/project/jenny/frontend/src/action/userAction.js",[],"/Users/maunonen/Documents/project/jenny/frontend/src/components/LoginForm.js",["92"],"import React, {useState, useEffect} from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { login } from '../action/userAction'\n\n\nconst LoginForm = (props) => {\n\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const dispatch = useDispatch()\n\n  const { error} = useSelector(state => state.user)\n  \n  const handleLogin = async (event) => {\n    event.preventDefault()\n      dispatch(login({ username, password}))\n      setUsername('')\n      setPassword('')\n  }\n  \n  return (\n    <div>\n    <h1>Login component</h1>\n        { error && <h1> { error } </h1> }\n        <form onSubmit={handleLogin}>\n          <label htmlFor=\"username\">Username:</label>\n          <input \n            type=\"text\" \n            value={username} \n            name=\"username\" \n            onChange={({target})=> setUsername(target.value)}\n          />\n          <br/>\n          <label htmlFor=\"password\">Password:</label>\n          <input \n            type=\"text\" \n            value={password} \n            name=\"password\"\n            onChange={({target}) => setPassword(target.value)}\n          />\n          <br/>\n          <button type=\"submit\">Login</button>\n        </form>\n    </div>\n  )\n}\n\nexport default LoginForm","/Users/maunonen/Documents/project/jenny/frontend/src/components/ProfileForm.js",["93"],"import React, { useState, useEffect} from 'react'\nimport userServices from '../services/user'\nimport {useSelector} from 'react-redux'\n\n\nconst ProfileForm = ()=> {\n\n  const [username, setUsername] = useState('')\n  const [name, setName] = useState('')\n  const [email, setEmail] = useState('')\n  const [message, setMessage] = useState('')\n\n  const token  = useSelector(state => state.user.token )\n\n  useEffect(()=> {\n    userServices.getUserProfile(token)\n      .then(responce => responce.data)\n      .then( user => {\n        setUsername(user.username || '')\n        setName(user.name || '')\n        setEmail(user.email || '')\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }, [])\n\n  const handleUpdateProfile  = (event) => {\n    event.preventDefault()\n    const token = sessionStorage.getItem(\"token\")\n    let userObject = {}\n    if (username){\n      userObject['username'] = username\n    }\n    if (name){\n      userObject['name'] = name\n    }\n    if (email){\n      userObject['email'] = email\n    }\n    console.log(userObject)\n    userServices.updateUser(userObject, token)\n      .then(responce => responce.data)\n      .then(user => {\n        setUsername(user.username || '')\n        setName(user.name || '')\n        setEmail(user.email || '')\n        console.log('Success', user)\n        handleMessage('Success', 'info')\n      })\n      .catch(err => {\n        if (err.response) {\n          // The request was made and the server responded with a status code\n          // that falls out of the range of 2xx\n          // Object not found checck status code\n          console.log('Responce', err.response)\n          if ( err.response.status && err.response.status === 404){\n            handleMessage('404 Profile Not Found')\n          } else if ( err.response.status && err.response.status === 400){\n            handleMessage(`status 400 bad request ${err.response.data.error}`)\n          }  else if (err.response.status && err.response.status === 403){\n            handleMessage('You don\\'t have permission')\n          } else if (err.response.status && err.response.status === 401){\n            handleMessage(`Error: Status 401 ${err.response.data.error}`, 'error')\n          } else if ( err.response.status && err.response.status === 500) {\n            handleMessage('Error status: 500.')\n            }\n        }\n        else if (err.request) {\n          handleMessage('Connection to server lost')\n        } else {\n          handleMessage('Wrong request setting')\n        }\n      })\n  }\n\n  const handleChangePassword = (event) => {\n    event.preventDefault()\n    console.log('handle modal window')\n  }\n\n  const handleMessage = (message,type) => {\n    setMessage({ type, message })\n    setTimeout(() => {\n      setMessage('')\n    }, 5000)\n  }\n\n\n  return (\n    <div>\n    <h1>Profile Form</h1>\n    { message.message && message.message }\n    { message.type && message.type }\n    <form onSubmit={handleUpdateProfile}>\n      <label htmlFor=\"username\">Username:</label>\n      <input \n        type=\"text\" \n        value={username} \n        name=\"username\" \n        onChange={({target})=> setUsername(target.value)}\n      />\n      <br/>\n      <label htmlFor=\"name\">Name:</label>\n      <input \n        type=\"text\" \n        value={name} \n        name=\"name\"\n        onChange={({target}) => setName(target.value)}\n      />\n      <br/>\n      <label htmlFor=\"email\">Email:</label>\n      <input \n        type=\"text\" \n        value={email} \n        name=\"email\"\n        onChange={({target}) => setEmail(target.value)}\n      />\n      <br/>\n      <button type=\"submit\">Update Profile</button>\n      <button onClick={handleChangePassword}>Change Password</button>\n    </form>\n</div>\n    \n  )\n}\n\nexport default ProfileForm","/Users/maunonen/Documents/project/jenny/frontend/src/components/ShowPriceList.js",[],"/Users/maunonen/Documents/project/jenny/frontend/src/components/AddPrice.js",[],{"ruleId":"94","severity":1,"message":"95","line":8,"column":16,"nodeType":"96","messageId":"97","endLine":8,"endColumn":23},{"ruleId":"94","severity":1,"message":"98","line":10,"column":10,"nodeType":"96","messageId":"97","endLine":10,"endColumn":25},{"ruleId":"99","replacedBy":"100"},{"ruleId":"101","replacedBy":"102"},{"ruleId":"94","severity":1,"message":"103","line":1,"column":17,"nodeType":"96","messageId":"97","endLine":1,"endColumn":26},{"ruleId":"94","severity":1,"message":"104","line":3,"column":20,"nodeType":"96","messageId":"97","endLine":3,"endColumn":26},{"ruleId":"94","severity":1,"message":"105","line":1,"column":8,"nodeType":"96","messageId":"97","endLine":1,"endColumn":13},{"ruleId":"94","severity":1,"message":"106","line":2,"column":7,"nodeType":"96","messageId":"97","endLine":2,"endColumn":14},{"ruleId":"94","severity":1,"message":"107","line":6,"column":3,"nodeType":"96","messageId":"97","endLine":6,"endColumn":8},{"ruleId":"108","severity":1,"message":"109","line":12,"column":1,"nodeType":"110","endLine":12,"endColumn":28},{"ruleId":"108","severity":1,"message":"109","line":49,"column":1,"nodeType":"110","endLine":49,"endColumn":97},{"ruleId":"94","severity":1,"message":"103","line":1,"column":26,"nodeType":"96","messageId":"97","endLine":1,"endColumn":35},{"ruleId":"94","severity":1,"message":"111","line":2,"column":8,"nodeType":"96","messageId":"97","endLine":2,"endColumn":18},{"ruleId":"94","severity":1,"message":"112","line":7,"column":3,"nodeType":"96","messageId":"97","endLine":7,"endColumn":17},{"ruleId":"94","severity":1,"message":"103","line":1,"column":26,"nodeType":"96","messageId":"97","endLine":1,"endColumn":35},{"ruleId":"113","severity":1,"message":"114","line":26,"column":6,"nodeType":"115","endLine":26,"endColumn":8,"suggestions":"116"},"no-unused-vars","'history' is defined but never used.","Identifier","unusedVar","'ConnectedRouter' is defined but never used.","no-native-reassign",["117"],"no-negated-in-lhs",["118"],"'useEffect' is defined but never used.","'Router' is defined but never used.","'axios' is defined but never used.","'baseUrl' is assigned a value but never used.","'token' is assigned a value but never used.","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","'appService' is defined but never used.","'LOGOUT_SUCCESS' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'token'. Either include it or remove the dependency array.","ArrayExpression",["119"],"no-global-assign","no-unsafe-negation",{"desc":"120","fix":"121"},"Update the dependencies array to be: [token]",{"range":"122","text":"123"},[694,696],"[token]"]